!function(e){return"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.SubmitButton=e()}(function(){"use strict";var e;return e=function(){function e(e,t,s){this.target=e,this.url=t,this.active=s,this.element=document.querySelector(this.target),this.requestComplete=!1,this.classPrefix="submit-button-loader",this.addNodes(),this.setClasses(),this.bindEvents()}return e.prototype.addNodes=function(){var e;return e=document.createElement("span"),e.className=submit,this.element.appendChild(e)},e.prototype.setClasses=function(){return this.addClass(this.classPrefix),this.active?this.addClass(this.classPrefix+"-active"):void 0},e.prototype.hasClass=function(e){return this.element.className.indexOf(e)>-1},e.prototype.addClass=function(e){return this.hasClass(e)?void 0:(this.element.className+=" "+e,this.element.className=this.element.className.trim())},e.prototype.removeClass=function(e){return this.hasClass(e)?(this.element.className=this.element.className.replace(e,""),this.element.className=this.element.className.trim()):void 0},e.prototype.bindEvents=function(){return this.element.addEventListener("click",this.clickButton.bind(this),!1)},e.prototype.clickButton=function(e){return e.preventDefault(),this.startLoading()},e.prototype.startLoading=function(){var e,t;return this.hasClass(this.classPrefix+"-loading")?void 0:(this.addClass(this.classPrefix+"-loading"),this.performRequest(),e=this,t=setInterval(function(){return e.requestComplete?(clearInterval(t),e.stopLoading()):void 0},2e3))},e.prototype.stopLoading=function(){var e;return this.removeClass(this.classPrefix+"-loading"),this.addClass(this.classPrefix+"-complete"),e=this,setTimeout(function(){return e.removeClass(e.classPrefix+"-complete"),e.hasClass(e.classPrefix+"-active")?e.removeClass(e.classPrefix+"-active"):e.addClass(e.classPrefix+"-active")},1e3)},e.prototype.performRequest=function(){var e,t,s;return t=new XMLHttpRequest,s=this.url,e="fname=Chris&lname=Raley&age=26&favoriteFood=turkey",t.open("POST",s,!1),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onprogress=this.updateProgress.bind(this),t.send(e),200===t.status?this.requestComplete=!0:void 0},e.prototype.updateProgress=function(e){var t;return t=evt.loaded/evt.total*100,console.log(t)},e}()});